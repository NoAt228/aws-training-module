
---

# üìç –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è: AWS CloudFormation

---

## üîπ –®–∞–≥ 1. –û—Å–Ω–æ–≤—ã IaC –∏ CloudFormation

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω CloudFormation.

* IaC = –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥ ‚Üí –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø–∏—Å–∞–Ω–∞ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ (YAML/JSON).
* CloudFormation = managed —Å–µ—Ä–≤–∏—Å –¥–ª—è IaC –≤ AWS.
* –ü–ª—é—Å—ã:

  * –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è,
  * –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å,
  * –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π (GitOps),
  * –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD.
* **Template** = –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.
* **Stack** = —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏–∑ —à–∞–±–ª–æ–Ω–∞.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω (S3 bucket).
* –î–µ–ø–ª–æ–∏—Ç—å stack —á–µ—Ä–µ–∑ Console –∏ CLI.

---

## üîπ –®–∞–≥ 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–±–ª–æ–Ω–∞

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω—ã.
–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã CloudFormation Template:

1. **AWSTemplateFormatVersion** ‚Äî –≤–µ—Ä—Å–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
2. **Description** ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–µ–∫–∞.
3. **Parameters** ‚Äî –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, InstanceType).
4. **Mappings** ‚Äî —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–≥–∏–æ–Ω—ã ‚Üí AMI ID).
5. **Conditions** ‚Äî —É—Å–ª–æ–≤–∏—è (–µ—Å–ª–∏ dev ‚Üí t2.micro, –µ—Å–ª–∏ prod ‚Üí m5.large).
6. **Resources** ‚Äî –≥–ª–∞–≤–Ω–∞—è —á–∞—Å—Ç—å (EC2, S3, RDS, IAM –∏ —Ç.–¥.).
7. **Outputs** ‚Äî –≤—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, URL ALB).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞–ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω —Å S3 bucket.
* –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `BucketName`.
* –î–æ–±–∞–≤–∏—Ç—å output `BucketArn`.

---

## üîπ –®–∞–≥ 3. –†–∞–±–æ—Ç–∞ —Å–æ Stack

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–µ–∫–æ–º.

* **Create Stack** ‚Üí —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ä–µ—Å—É—Ä—Å—ã.
* **Update Stack** ‚Üí –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Å blue/green –¥–µ–ø–ª–æ–µ–º).
* **Delete Stack** ‚Üí —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã.
* **Change Sets** ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º.
* Stack statuses: CREATE\_COMPLETE, UPDATE\_IN\_PROGRESS, ROLLBACK\_COMPLETE.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å stack (EC2 + Security Group).
* –û–±–Ω–æ–≤–∏—Ç—å stack (–∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –∏–Ω—Å—Ç–∞–Ω—Å–∞).
* –£–¥–∞–ª–∏—Ç—å stack ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ä–µ—Å—É—Ä—Å—ã —É–¥–∞–ª–µ–Ω—ã.

---

## üîπ –®–∞–≥ 4. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã, —É—Å–ª–æ–≤–∏—è –∏ Outputs

üéØ –¶–µ–ª—å: –¥–µ–ª–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏.

* **Parameters** ‚Üí –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, VpcId, KeyPair).
* **Conditions** ‚Üí —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è dev/prod.
* **Outputs** ‚Üí —É–¥–æ–±–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, DNS Load Balancer).
* **Exports & Imports** ‚Üí –¥–µ–ª–∏—Ç—å—Å—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –º–µ–∂–¥—É —Å—Ç–µ–∫–∞–º–∏.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `EnvType` (dev/prod).
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É—Å–ª–æ–≤–∏–µ: –µ—Å–ª–∏ dev ‚Üí t2.micro, –µ—Å–ª–∏ prod ‚Üí m5.large.
* –°–¥–µ–ª–∞—Ç—å output ‚Üí URL ALB.

---

## üîπ –®–∞–≥ 5. –ú–æ–¥—É–ª–∏ –∏ Nested Stacks

üéØ –¶–µ–ª—å: —Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª—å—à–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

* **Nested Stacks** ‚Üí –æ–¥–∏–Ω stack –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π.
* **StackSets** ‚Üí –¥–µ–ø–ª–æ–π –æ–¥–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤/—Ä–µ–≥–∏–æ–Ω–æ–≤.
* **Modules** ‚Üí –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–ª–æ–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å nested stack: VPC stack + EC2 stack.
* –ó–∞–ø—É—Å—Ç–∏—Ç—å StackSet –≤ –¥–≤—É—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö.

---

## üîπ –®–∞–≥ 6. Intrinsic Functions

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

* **Ref** ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–ª–∏ —Ä–µ—Å—É—Ä—Å.
* **Fn::GetAtt** ‚Üí –ø–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç —Ä–µ—Å—É—Ä—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, DNSName ELB).
* **Fn::Join** ‚Üí —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫.
* **Fn::Sub** ‚Üí —à–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–æ–∫ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.
* **Fn::If** ‚Üí —É—Å–ª–æ–≤–∏—è.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω EC2 ‚Üí –≤ user-data –ø–µ—Ä–µ–¥–∞—Ç—å `BucketName` —á–µ—Ä–µ–∑ `Ref`.
* –í—ã–≤–µ—Å—Ç–∏ DNS ELB —á–µ—Ä–µ–∑ `Fn::GetAtt`.

---

## üîπ –®–∞–≥ 7. –†–∞–±–æ—Ç–∞ —Å IAM –∏ Permissions

üéØ –¶–µ–ª—å: –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–∞–º–∏.

* CloudFormation —Ç—Ä–µ–±—É–µ—Ç IAM-–ø—Ä–∞–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.
* **IAM Role for CloudFormation** ‚Üí —Ä–æ–ª—å, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—É—é –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç.
* Best practice ‚Üí –ø—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å IAM Role –¥–ª—è CloudFormation.
* –ó–∞–ø—É—Å—Ç–∏—Ç—å stack –æ—Ç –∏–º–µ–Ω–∏ —ç—Ç–æ–π —Ä–æ–ª–∏.

---

## üîπ –®–∞–≥ 8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

üéØ –¶–µ–ª—å: –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ø–ª–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

* **CodePipeline + CloudFormation** ‚Üí –ø–∞–π–ø–ª–∞–π–Ω IaC.
* **SAM (Serverless Application Model)** ‚Üí –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Lambda.
* **Terraform vs CloudFormation** ‚Üí —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ.
* GitOps-–ø–æ–¥—Ö–æ–¥: —Ö—Ä–∞–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –≤ Git, –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–µ–ø–ª–æ–π –ø—Ä–∏ merge.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–¥–µ–ª–∞—Ç—å –ø–∞–π–ø–ª–∞–π–Ω: GitHub ‚Üí CodePipeline ‚Üí CloudFormation Stack.

---

## üîπ –®–∞–≥ 9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

üéØ –¶–µ–ª—å: —É–º–µ—Ç—å –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ —Ñ–∏–∫—Å–∏—Ç—å –æ—à–∏–±–∫–∏.

* CloudFormation Events ‚Üí –ø–æ—à–∞–≥–æ–≤—ã–µ –ª–æ–≥–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.
* Rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.
* Drift Detection ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ä–µ—Å—É—Ä—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —à–∞–±–ª–æ–Ω—É.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å stack —Å –æ—à–∏–±–∫–æ–π (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π AMI ID).
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å rollback.
* –í–∫–ª—é—á–∏—Ç—å drift detection.

---
