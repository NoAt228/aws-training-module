
---

# üìç –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è: Amazon CloudWatch Logs

---

## üîπ –®–∞–≥ 1. –û—Å–Ω–æ–≤—ã –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ CloudWatch Logs.

* –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∏–∑ AWS —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
* –õ–æ–≥–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è:

  * **Log Group** ‚Üí –ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/aws/lambda/my-function`).
  * **Log Stream** ‚Üí –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –∏–ª–∏ –∏–Ω—Å—Ç–∞–Ω—Å—É).
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **real-time ingestion** (—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π **Log Group**.
* –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –ª–æ–≥–∏ (—á–µ—Ä–µ–∑ AWS CLI).

---

## üîπ –®–∞–≥ 2. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ª–æ–≥–æ–≤

üéØ –¶–µ–ª—å: –∏–∑—É—á–∏—Ç—å, –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç –¥–∞–Ω–Ω—ã–µ.

* AWS —Å–µ—Ä–≤–∏—Å—ã:

  * **EC2** (—á–µ—Ä–µ–∑ CloudWatch Agent).
  * **Lambda** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
  * **API Gateway** (access logs).
  * **VPC Flow Logs**.
  * **CloudTrail** (–∞—É–¥–∏—Ç).
* –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí —á–µ—Ä–µ–∑ CloudWatch Agent –∏–ª–∏ PutLogEvents API.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏ –¥–ª—è Lambda.
* –í–∫–ª—é—á–∏—Ç—å VPC Flow Logs ‚Üí –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤ CloudWatch.

---

## üîπ –®–∞–≥ 3. CloudWatch Agent

üéØ –¶–µ–ª—å: –æ—Å–≤–æ–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∞–≥–µ–Ω—Ç–∞.

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Linux/Windows.
* –ö–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ `amazon-cloudwatch-agent.json`.
* –ú–æ–∂–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å:

  * –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ (syslog, Windows Event Log).
  * –ö–∞—Å—Ç–æ–º–Ω—ã–µ application logs.
  * –ú–µ—Ç—Ä–∏–∫–∏ (CPU, RAM, Disk).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≥–µ–Ω—Ç –Ω–∞ EC2.
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä `/var/log/messages` –≤ CloudWatch Logs.

---

## üîπ –®–∞–≥ 4. –ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö.

* CloudWatch Logs Insights ‚Üí —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ (SQL-like).
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –∞–≥—Ä–µ–≥–∞—Ü–∏–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.
* –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

  ```sql
  fields @timestamp, @message
  | filter @message like /ERROR/
  | sort @timestamp desc
  | limit 20
  ```

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞–ø–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å: –≤—Å–µ ERROR –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞.
* –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ WARN/ERROR —Å–æ–æ–±—â–µ–Ω–∏–π.

---

## üîπ –®–∞–≥ 5. –ú–µ—Ç—Ä–∏–∫–∏ –∏–∑ –ª–æ–≥–æ–≤

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è –∏–∑–≤–ª–µ–∫–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏.

* –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å **Metric Filters** ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏ –≤ CloudWatch Metrics.
* –ü—Ä–∏–º–µ—Ä: —Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ `ERROR`.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å Metric Filter –¥–ª—è —Å–ª–æ–≤–∞ `ERROR`.
* –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫ –≤ CloudWatch Metrics.

---

## üîπ –®–∞–≥ 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CloudWatch Alarms

üéØ –¶–µ–ª—å: —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è –≤ –ª–æ–≥–∞—Ö.

* –ê–ª–≥–æ—Ä–∏—Ç–º:

  1. –õ–æ–≥–∏ ‚Üí Metric Filter ‚Üí CloudWatch Metrics.
  2. –ù–∞ –º–µ—Ç—Ä–∏–∫—É —Å—Ç–∞–≤–∏–º Alarm.
  3. Alarm ‚Üí SNS/Lambda ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Alarm: –µ—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö Lambda > 5 –æ—à–∏–±–æ–∫ –∑–∞ 5 –º–∏–Ω—É—Ç ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å Email.

---

## üîπ –®–∞–≥ 7. Retention –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–µ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è.

* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ª–æ–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.
* Retention ‚Üí –æ—Ç 1 –¥–Ω—è –¥–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏.
* –ú–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ S3 –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å retention = 30 –¥–Ω–µ–π –¥–ª—è –ª–æ–≥-–≥—Ä—É–ø–ø—ã.
* –í–∫–ª—é—á–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –≤ S3.

---

## üîπ –®–∞–≥ 8. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ IAM

üéØ –¶–µ–ª—å: —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ª–æ–≥–∞–º.

* IAM Policies ‚Üí –∫—Ç–æ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å –ª–æ–≥–∏.
* Encryption ‚Üí KMS –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.
* CloudTrail —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å IAM-–ø–æ–ª–∏—Ç–∏–∫—É: —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏ Lambda.
* –í–∫–ª—é—á–∏—Ç—å KMS-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Log Group.

---

## üîπ –®–∞–≥ 9. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –≥–¥–µ CloudWatch Logs –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

* **Lambda** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ª–æ–≥–≥–∏–Ω–≥.
* **ECS/EKS** ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ª–æ–≥–∏.
* **Kinesis Data Firehose** ‚Üí –ø–µ—Ä–µ—Å—ã–ª–∫–∞ –ª–æ–≥–æ–≤ –≤ S3/Elasticsearch.
* **OpenSearch** ‚Üí –¥–ª—è full-text –ø–æ–∏—Å–∫–∞.
* **SIEM/ELK** ‚Üí –≤–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Kinesis Firehose –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –ª–æ–≥–æ–≤ –≤ S3.
* –ü–æ–¥–∫–ª—é—á–∏—Ç—å OpenSearch –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤.

---

## üîπ –®–∞–≥ 10. Monitoring –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å

üéØ –¶–µ–ª—å: —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã.

* –ü–ª–∞—Ç–∏—à—å –∑–∞:

  * ingestion (—Å–±–æ—Ä –ª–æ–≥–æ–≤),
  * —Ö—Ä–∞–Ω–µ–Ω–∏–µ (per GB/–º–µ—Å),
  * Insights queries (–ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É GB –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö).
* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

  * –≤–∫–ª—é—á–∏—Ç—å retention policies,
  * —ç–∫—Å–ø–æ—Ä—Ç –≤ S3 Glacier –¥–ª—è –∞—Ä—Ö–∏–≤–∞,
  * –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∞–∂–Ω—ã—Ö –ª–æ–≥–æ–≤.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è 100 GB –ª–æ–≥–æ–≤/–º–µ—Å.
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å retention –∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ S3 –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

---
