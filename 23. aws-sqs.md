
---

# üìç –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è: Amazon SQS

---

## üîπ –®–∞–≥ 1. –û—Å–Ω–æ–≤—ã –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω SQS.

* **–û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π** ‚Üí —Å–µ—Ä–≤–∏—Å A –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å–µ—Ä–≤–∏—Å B –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.
* –ü–æ–∑–≤–æ–ª—è–µ—Ç **—Ä–∞–∑–≤—è–∑–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (decoupling).
* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π.
* –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –±–µ–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞–º–∏.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Å—Ö–µ–º—É: Producer ‚Üí SQS ‚Üí Consumer.
* –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≥–¥–µ –≤ —Ç–≤–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å.

---

## üîπ –®–∞–≥ 2. –¢–∏–ø—ã –æ—á–µ—Ä–µ–¥–µ–π

üéØ –¶–µ–ª—å: –∏–∑—É—á–∏—Ç—å –≤—Å–µ –≤–∏–¥—ã SQS.

* **Standard Queue** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):

  * –ü–æ—á—Ç–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.
  * *At-least-once delivery* (—Å–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞).
  * *Best-effort ordering* (–Ω–µ—Ç —Å—Ç—Ä–æ–≥–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞).
* **FIFO Queue** (First-In-First-Out):

  * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫.
  * *Exactly-once processing*.
  * –î–æ 3,000 msg/sec —Å batching.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å Standard –æ—á–µ—Ä–µ–¥—å.
* –°–æ–∑–¥–∞—Ç—å FIFO –æ—á–µ—Ä–µ–¥—å (`MyQueue.fifo`).
* –û—Ç–ø—Ä–∞–≤–∏—Ç—å 10 —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

---

## üîπ –®–∞–≥ 3. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

üéØ –¶–µ–ª—å: –æ—Å–≤–æ–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç—ã.

* **Message retention** ‚Üí —Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–æ—Ç 1 –º–∏–Ω –¥–æ 14 –¥–Ω–µ–π).
* **Visibility timeout** ‚Üí –≤—Ä–µ–º—è, –ø–æ–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è.
* **Dead-letter queue (DLQ)** ‚Üí –æ—á–µ—Ä–µ–¥—å –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å –æ—à–∏–±–∫–∞–º–∏.
* **Delay queue** ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
* **Message attributes** ‚Üí –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—á–µ—Ä–µ–¥—å —Å retention = 1 –¥–µ–Ω—å.
* –î–æ–±–∞–≤–∏—Ç—å DLQ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É ¬´–±–∏—Ç–æ–≥–æ¬ª —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## üîπ –®–∞–≥ 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

üéØ –¶–µ–ª—å: —É–º–µ—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å SQS –≤—Ä—É—á–Ω—É—é –∏ —á–µ—Ä–µ–∑ SDK.

* –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π: AWS Console, AWS CLI, SDK.
* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π: long polling vs short polling.
* Batch API ‚Üí –¥–æ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ —Ä–∞–∑.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CLI:

  ```bash
  aws sqs send-message --queue-url <URL> --message-body "Hello SQS"
  ```
* –ù–∞–ø–∏—Å–∞—Ç—å Python-—Å–∫—Ä–∏–ø—Ç (boto3) –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.

---

## üîπ –®–∞–≥ 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

üéØ –¶–µ–ª—å: —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ SQS –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ AWS-—ç–∫–æ—Å–∏—Å—Ç–µ–º—É.

* **SNS ‚Üí SQS** ‚Üí –ø–æ–¥–ø–∏—Å–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ —Ç–æ–ø–∏–∫ (fan-out).
* **Lambda ‚Üí SQS** ‚Üí —Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
* **S3 ‚Üí Event ‚Üí SQS** ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤.
* **Step Functions ‚Üí SQS** ‚Üí –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ü–æ–¥–ø–∏—Å–∞—Ç—å SQS –Ω–∞ SNS Topic.
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Lambda –∫–∞–∫ consumer –¥–ª—è SQS.

---

## üîπ –®–∞–≥ 6. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –∫–∞–∫ SQS —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è ‚Üí –º–∏–ª–ª–∏–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π.
* FIFO –æ–≥—Ä–∞–Ω–∏—á–µ–Ω ‚Üí –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å (Message Groups).
* Batch processing = —Å–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏.
* Long polling ‚Üí —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –í–∫–ª—é—á–∏—Ç—å long polling (20 —Å–µ–∫).
* –û—Ç–ø—Ä–∞–≤–∏—Ç—å 1000 —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å throughput.

---

## üîπ –®–∞–≥ 7. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ IAM

üéØ –¶–µ–ª—å: –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ—á–µ—Ä–µ–¥—è–º.

* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º —á–µ—Ä–µ–∑ IAM policies.
* Resource-based policies (–¥–æ—Å—Ç—É–ø –¥—Ä—É–≥–∏–º –∞–∫–∫–∞—É–Ω—Ç–∞–º).
* –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:

  * KMS (encryption at rest).
  * HTTPS (encryption in transit).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å IAM-–ø–æ–ª–∏—Ç–∏–∫—É: producer –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∏—Å–∞—Ç—å, consumer ‚Äî —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å.
* –í–∫–ª—é—á–∏—Ç—å KMS encryption –¥–ª—è –æ—á–µ—Ä–µ–¥–∏.

---

## üîπ –®–∞–≥ 8. Monitoring –∏ Logging

üéØ –¶–µ–ª—å: —É–º–µ—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –æ—á–µ—Ä–µ–¥–µ–π.

* **CloudWatch Metrics**: NumberOfMessagesSent, ApproximateNumberOfMessagesVisible, AgeOfOldestMessage.
* **CloudTrail** ‚Üí –∞—É–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–π.
* **DLQ** ‚Üí –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É–ø–∞–≤—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –í–∫–ª—é—á–∏—Ç—å CloudWatch Metrics –¥–ª—è –æ—á–µ—Ä–µ–¥–∏.
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç –ø—Ä–∏ —Ä–æ—Å—Ç–µ DLQ.

---

## üîπ –®–∞–≥ 9. Advanced –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

üéØ –¶–µ–ª—å: –æ—Å–≤–æ–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

* **Message batching** ‚Üí –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏.
* **Idempotency** ‚Üí –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
* **FIFO Message Groups** ‚Üí –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –ø–æ—Ä—è–¥–∫–æ–º –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã.
* **Cross-account SQS** ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ –∏–∑ –¥—Ä—É–≥–æ–≥–æ AWS –∞–∫–∫–∞—É–Ω—Ç–∞.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–¥–µ–ª–∞—Ç—å consumer —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π idempotency (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ DynamoDB).
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cross-account –¥–æ—Å—Ç—É–ø –∫ –æ—á–µ—Ä–µ–¥–∏.

---

## üîπ –®–∞–≥ 10. –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

üéØ –¶–µ–ª—å: —É–º–µ—Ç—å –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã.

* \$0.40 –∑–∞ 1 –º–ª–Ω –∑–∞–ø—Ä–æ—Å–æ–≤ SQS.
* Long polling –¥–µ—à–µ–≤–ª–µ, —á–µ–º short polling.
* FIFO –Ω–µ–º–Ω–æ–≥–æ –¥–æ—Ä–æ–∂–µ, —á–µ–º Standard.
* –≠–∫–æ–Ω–æ–º–∏—è —á–µ—Ä–µ–∑ batching.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å 10 –º–ª–Ω —Å–æ–æ–±—â–µ–Ω–∏–π/–º–µ—Å.
* –í–∫–ª—é—á–∏—Ç—å long polling –∏ batching –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

---
